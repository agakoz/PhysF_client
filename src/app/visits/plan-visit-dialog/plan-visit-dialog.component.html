<mat-card-title>
 {{this.data.title}}
</mat-card-title>
<mat-divider></mat-divider>
<mat-card-content>
  <form
    [formGroup]="planVisitForm"
    novalidate>
    <div class="data">
      <div class="column">
        <table>
                    <colgroup>
                      <col span="1" style="width: auto;">
                      <col span="2" style="width: fit-content;">
                      <col span="1" style="width: auto;">
                      <col span="1" style="width: auto;">
                      <col span="1" style="width: auto;">
                    </colgroup>
          <tbody>
          <tr>
            <td>Pacjent:</td>
            <td>
              <mat-form-field>
                <input
                  matInput
                  type="text"
                  name="patient"
                  formControlName="patient">
              </mat-form-field>
            </td>
          </tr>
          <tr>
            <td>Data:</td>
            <td>
              <mat-form-field>
                <input matInput [matDatepicker]="picker" formControlName="date" [min]="minDate">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>

              </mat-form-field>
            </td>
          </tr>
          <tr>
            <td>Czas od:</td>
            <td>
              <mat-form-field>

                <input matInput
                       type="time"
                       name="startTime"
                       formControlName="startTime">

              </mat-form-field>
            </td>
            <td>Czas do:</td>
            <td>
              <mat-form-field>

                <input matInput
                       type="time"
                       name="endTime"
                       formControlName="endTime">

              </mat-form-field>
            </td>
          </tr>
          <tr>
            <td>Notatka:</td>
            <td>
              <mat-form-field>
                <textarea
                  matInput
                  type="text"
                  name="notes"
                  formControlName="notes"></textarea>
              </mat-form-field>
            </td>
          </tr>
          <tr>
            <td colspan="2" style="width: 10%;">Kontynuacja leczenia

              <mat-checkbox class="example-margin" (change)="manageContinuation()" [checked]="treatmentContinuation"></mat-checkbox>
            </td>
          </tr>
          <tr *ngIf="treatmentContinuation">
            <td >Cykl:
            </td>
            <td colspan="3">
              <div>

                <mat-form-field style="width: 90%" *ngIf="treatmentCycleList.length > 0">
                  <mat-label>kontynuowany cykl leczenia</mat-label>
                  <mat-select matInput
                              name="treatmentCycle"
                              formControlName="treatmentCycle"
                  >
                    <mat-option *ngFor="let cycle of treatmentCycleList" [value]="cycle">{{cycle.title}}</mat-option>

                  </mat-select>
                </mat-form-field>
                <span id="info-no-treatment-cycle" *ngIf="treatmentCycleList.length == 0"> BRAK CYKLI LECZENIA DO WYBORU</span>
              </div>

            </td>
          </tr>



          <!--            </td>-->
          <!--          </span>-->
          </tbody>
        </table>
        <br>
        <div class="dialog-visit-plan-button-row">
          <button class="dialog-button" mat-button (click)="closeDialog()">Cofnij</button>

          <button class="dialog-button" mat-button mat-raised-button color="accent"
                  (click)="onSubmit()" [disabled]="!planVisitForm.valid">
            Zapisz
          </button>
        </div>

      </div>
    </div>
  </form>
</mat-card-content>
